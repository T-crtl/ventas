{% extends "base_generic.html" %}
{% load static %}

{% block content %}
<link rel="stylesheet" type="text/css" href="{% static 'css/style-form.css' %}">
<h1 class="page-title">Realizar un Pedido</h1>
<p class="intro-text">Aquí podrás realizar tu pedido de manera fácil y rápida.</p>

<!-- Formulario de filtrado (GET) -->
<form method="GET" action=".">
    <label for="linea_producto">Línea de producto:</label>
    <select name="linea_producto" id="linea_producto">
        <option value="" {% if not linea_producto %}selected{% endif %}>Todas</option>
        <option value="Inbelleza" {% if linea_producto == "Inbelleza" %}selected{% endif %}>Inbelleza</option>
        <option value="Barber" {% if linea_producto == "Barber" %}selected{% endif %}>Barber</option>
        <!-- Agrega más opciones según tus líneas -->
    </select>
    <button type="submit">Filtrar</button>
</form>

<!-- Formulario para el pedido (POST) -->
<div class="form-container">
    <h2 class="section-title">Datos del Pedido</h2>
    <form method="POST" class="pedido-form">
        {% csrf_token %}
        <!-- Datos del pedido -->
        <div class="form-section">
            <h3 class="form-title">Formulario de Pedido</h3>
            <div class="form-fields">
                {{ form_pedido.as_p }}
            </div>
        </div>
        <p class="product-list-info">Opciones: 1.- Oro 2.- Diamante 3.- Mayoreo</p>

        <!-- Productos -->
        <h2 class="section-title">Seleccionar Productos</h2>
        <div class="productos-selection">
            {% for field in form_detalle %}
            <div class="producto-item">
                <label for="{{ field.id_for_label }}" class="field-label">{{ field.label }}</label>
                {{ field }}
            </div>
            {% endfor %}
        </div>

        <button type="submit" class="submit-btn">Realizar Pedido</button>
    </form>
</div>
{% endblock %}
